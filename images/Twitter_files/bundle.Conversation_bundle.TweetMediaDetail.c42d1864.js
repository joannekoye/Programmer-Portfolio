(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"9loC":function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var o=n("PJYZ"),r=n.n(o),i=n("VbXa"),a=n.n(i),c=n("lSNA"),s=n.n(c),u=n("PiaM"),d=n("ERkP"),l=n("I7xG"),p=n("3XMw"),f=n.n(p),v=n("v6aA"),h=n("VTxf"),m=n("SrIh"),w=n("fTQJ"),y=n("IRWI"),b=n("wgnn"),T=n("mgjo"),C=f.a.gccad761,I=function(t){switch(t){case b.a.NOT_FOUND:return d.createElement(h.a,null);default:return Object(m.a)("Unhandled timeline unavailable reason: "+t),null}},g=function(){return d.createElement(h.a,null)},x=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,s()(r()(e),"_isInitialFocusEntry",(function(t,n){var o=e.props.focalTweetId;return n>0&&t&&t.content&&!!t.content.id&&t.content.id===o})),s()(r()(e),"_getPreprocessor",Object(l.a)(r()(e),(function(t){return t.socialContext}),(function(t){return t.contextTweetId}),(function(t){return t.promotedContent}),(function(t){return t.focalTweetId}),(function(t){return t.selectedTweet}),(function(t){return t.conversationTreeEnabled}),(function(t,e,n,o,r,i){return i?Object(T.a)({contextTweetId:e,socialContext:t,selectedTweet:r}):Object(T.c)({focalTweetId:o,contextTweetId:e,socialContext:t,promotedContent:n})}))),s()(r()(e),"_getEntryConfig",Object(l.a)(r()(e),(function(t){return!!t.rootTweet&&t.rootTweet.user.id_str}),(function(t,e,n){return n.context.loggedInUserId}),(function(t){return t.withFocalTweetMedia}),(function(t,e,n){var o=e&&t&&e===t;return Object(T.b)(!!o,n)}))),e}a()(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.apiErrorHandlerMap,n=t.fetchOptions,o=t.module,r=t.onEntriesUpdate;return d.createElement(w.a,{anchoring:y.a,apiErrorHandlerMap:e,entryConfiguration:this._getEntryConfig(),fetchOptions:n,isInitialFocusEntry:this._isInitialFocusEntry,module:o,olderAtTop:!0,onEntriesUpdate:r,preprocessEntryList:this._getPreprocessor(),previewEntries:this._previewEntries(),renderEmptyState:g,renderUnavailable:I,title:C})},n._previewEntries=function(){var t=this.props,e=t.conversationTreeEnabled,n=t.focalTweet;return n&&!e?[u.g({id:n.id_str,sortIndex:n.id_str})]:void 0},e}(d.Component);s()(x,"defaultProps",{withFocalTweetMedia:!0}),s()(x,"contextType",v.a)},W5XZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o,r=n("k49u"),i=n("fs1G"),a=((o={})[r.a.OtherUserSuspended]={customAction:i.a},o[r.a.StatusViewForbidden]={customAction:i.a},o)},ckGq:function(t,e,n){"use strict";var o=n("R972"),r=(n("ERkP"),n("6vad"));e.a=o.d(o.f({divider:{top:!0,bottom:!1},component:r.a,createProps:function(t){var e=t.entry.content;return{text:e.text,subtext:e.subtext,withBottomBorder:!1}}}))},mgjo:function(t,e,n){"use strict";n("LnO1"),n("3eMz"),n("dtAy"),n("DB+v"),n("PN9k");var o=n("R972"),r=n("PiaM"),i=n("ERkP"),a=n("xZXe"),c=n("P1oR"),s=n("Qyxo"),u=n("VPAj"),d=n("QIgh"),l=n("8UdT"),p=n("zrc3"),f=n("caTy"),v=n("NO+D"),h=n("ckGq"),m=n("IcAo"),w=n("SrIh"),y=n("zh9S"),b=n("gdQ4"),T=n("PJYZ"),C=n.n(T),I=n("VbXa"),g=n.n(I),x=n("lSNA"),O=n.n(x),E=n("Qwev"),j=n("oEGd"),P=n("hqKg"),_=n("MDbM"),M=Object(P.createSelector)((function(t,e){var n=e.module,o=function(t){return t.content.showMoreCursor&&t.content.showMoreCursor.value}(e.threadEntry);return(o&&n.selectCursorFetchStatusByValue(t,o))===_.a.LOADING}),(function(t){return{isLoading:t}})),A=Object(j.d)(M,(function(t){return{fetchConversationThread:t.module.fetchConversationThread,scribeAction:y.c}})),S=n("7JQg"),k=n("EnM6"),R=n("3XMw"),F=n.n(R),L=n("htQn"),U=(n("AxOO"),n("3xO4")),D=n.n(U),G=(n("aWzz"),F.a.e05b3b2d),N=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,O()(C()(e),"_handleClick",(function(){var t=e.props,n=t.fetchConversationThread,o=t.threadEntry;e._scribe("click"),n(o)})),O()(C()(e),"_handleLayout",(function(t){if(t.nativeEvent.layout){var n=t.nativeEvent.layout.height;e._gapHeight=n}})),e}g()(e,t);var n=e.prototype;return n.componentDidMount=function(){this._scribe("impression")},n.render=function(){return this.props.isLoading?i.createElement(D.a,{style:{height:this._gapHeight,justifyContent:"center"}},i.createElement(E.a,{size:"small"})):i.createElement(L.a,{onLayout:this._handleLayout,onPress:this._handleClick},i.createElement(k.a,{label:this._getLabel()}))},n._getLabel=function(){var t=this.props.threadEntry.content.showMoreCursor.displayTreatment;return t&&t.actionText||G},n._scribe=function(t){var e=this.props,n=e.scribeAction,o=e.scribeNamespace,r=e.threadEntry;n(Object.assign({},o,{component:"cursor",action:t}),{event_info:r.content.showMoreCursor.cursorType})},e}(i.Component),V=Object(S.d)()(A(N)),B=n("yvCK"),H=n("euJ+"),z=n("VrCx"),J=n("yy6l"),Q=n("G6rE");n.d(e,"c",(function(){return X})),n.d(e,"a",(function(){return K}));e.b=function(t,e){var n,r,p;return Object(m.a)({},d.b,((p={})[l.a.Tweet]={handlers:(n={},n[z.a.Tweet]=Object(J.a)({component:a.a,createAdditionalProps:function(e,n,o){var r=o.applyFeedbackAction,i={};i.withHideReply=t,i.withUnhideReply=!1,i.withViewHiddenReplies=!0,i.withMuteConversation=!0;var a=!!(e.content&&e.content.hasModeratedReplies&&e.conversationPosition&&e.conversationPosition.isStart);return i.hasModeratedReplies=a,t&&(i.onTweetDismiss=function(){return r({entry:e,feedbackKeys:[H.d]})}),i}}),n[z.a.Focal]=Object(J.a)({component:c.a,createAdditionalProps:function(n,o,r){var i=r.applyFeedbackAction,a=n.content,c=a.focal,s=a.hasModeratedReplies,u=a.tombstoneInfo,d=n.conversationPosition,l=c||{},p=l.contextTweetId,f=l.socialContext,v=l.promotedContent,h=!!(s&&d&&d.isStart);return Object.assign({contextTweetId:p,hasModeratedReplies:h,socialContext:f,promotedContent:v,tombstoneInfo:u,withHideReply:t,withTweetMedia:e},t?{onTweetDismiss:function(){return i({entry:n,feedbackKeys:[H.d]})}}:{})},divider:function(t){return{top:!1,bottom:t.conversationPosition&&t.conversationPosition.isLastInSelfThread}}}),n)},p[l.a.Tombstone]={handlers:(r={},r.FocalTweetInlineTombstone=Object(v.a)({createAdditionalProps:function(e){var n=e.content.focal||{};return{contextTweetId:n.contextTweetId,isFocalTweet:!0,socialContext:n.socialContext,withHideReply:t}},shouldDisplayBorder:Object(u.a)(!0)}),r[B.a.Inline]=Object(v.a)({createAdditionalProps:function(e,n){var o=n.applyFeedbackAction;return{onTweetDismiss:t?function(){return o({entry:e,feedbackKeys:[H.d]})}:void 0,withHideReply:t}},shouldDisplayBorder:function(t){return!t||!t.conversationPosition||!!t.conversationPosition.isStart&&!!t.conversationPosition.isEnd}}),r)},p[l.a.ConversationThread]=o.d(o.e({splice:function(t){var e=t.entryId,n=t.itemMetadata,o=t.content,r=o.conversationComponents,i=o.showMoreCursor,a=r.length-1,c=Object(s.a)(r,(function(o,r){if(o.tweetComposerComponent)return rt(e,o.tweetComposerComponent,!0);var c=it(o);if(c){var s=0===r,u=!i&&r===a;return ot(e,c.id,n,s,u)}if(o.tweetUnavailableComponent)return null;if(o.tombstoneComponent){var d=!i&&r===a,l=0===r,p=e+"-tombstone-"+r;return tt(o.tombstoneComponent,t.itemMetadata,p,{isEnd:d,isStart:l})}return Object(w.a)("Unsupported conversation component: "+Object.keys(o)[0]),null}));return i&&c.push($(t)),c},divider:function(t){var e=t.content.conversationComponents,n=e[0]&&it(e[0]);return{top:!1,bottom:n&&n.displayType===z.a.SelfThread}}})),p[l.a.Label]=h.a,p.ui_threadGap=o.d(o.c({isClickable:Object(u.a)(!0),render:function(t,e){var n=e.module;return i.createElement(V,{module:n,threadEntry:t.content.parentThread})}})),p[l.a.TweetComposer]=o.d(o.f({component:b.a,bindActions:Object(u.a)({scribe:y.c}),selectData:function(t){t.entry,t.module;return{loggedInUser:function(t){return Q.e.selectLoggedInUser(t)}}},createProps:function(t){var e=t.data.loggedInUser,n=void 0===e?{}:e,o=t.entry,r=t.actions.scribe,i=t.scribeNamespace,a=Object(f.a)(o.content.url.url);return{avatarUrl:n.profile_image_url_https,onClick:function(){return r(Object.assign({},i,{element:"add_to_thread",action:"click"}))},onImpression:function(){return r(Object.assign({},i,{element:"add_to_thread",action:"impression"}))},to:a?Object.assign({},a,{state:Object.assign({},a.state||{},{isSelfThreadReply:!0})}):void 0,userName:n.screen_name,withButton:!0,withConversationLine:o.withConversationLine}},shouldDisplayBorder:Object(u.a)(!1),divider:{top:!1,bottom:!0}})),p))};var X=function(t){var e=t.focalTweetId,n=t.contextTweetId,o=t.socialContext,r=t.promotedContent,i=t.hideAncestorTweets,a=function(t){return t.type===l.a.Tweet&&t.content.id===e||t.type===l.a.Tombstone&&!!t.content&&!!t.content.tweet&&t.content.tweet.id===e};return function(t){var e=Object(p.a)(t,a),c=!1;return t.map((function(a,s){var u=s>e;if(a.type!==l.a.Tweet&&a.type!==l.a.Tombstone||u)return a;var d=!c;if(c=!0,s<e){if(i)return null;if(a.type===l.a.Tweet)return et(a,d);if(a.type===l.a.Tombstone)return nt(a,d)}else{var p,f=t[s+1];if(f&&f.type===l.a.ConversationThread){var v=f.content.conversationComponents[0]&&f.content.conversationComponents[0].conversationTweetComponent&&f.content.conversationComponents[0].conversationTweetComponent.tweet;p=!v||v.displayType!==z.a.SelfThread&&a.content.displayType===z.a.SelfThread}else p=!1;if(a.type===l.a.Tombstone){var h={isStart:d,isEnd:!0};return a.content.displayType===B.a.Inline?W({contextTweetId:n,entry:a,socialContext:o,conversationPosition:h}):Y({entry:a,conversationPosition:h})}if(a.type===l.a.Tweet)return q({originalEntry:a,contextTweetId:n,socialContext:o,promotedContent:r,conversationPosition:{isStart:d,isEnd:!0,isLastInSelfThread:p,showReplyContext:!1}})}})).filter(Boolean)}},K=function(t){var e=t.contextTweetId,n=t.socialContext,o=t.selectedTweet;return function(t){return t.map((function(t,r){return t.type===l.a.Tombstone?t.content.displayType===B.a.Inline?W({contextTweetId:e,entry:t,socialContext:n}):Y({entry:t}):t.type===l.a.TimelineModule?Z({entry:t,selectedTweet:o}):t})).filter(Boolean)}},Z=function(t){var e=t.entry,n=t.selectedTweet,o=e.content||{};return Object.assign({},e,{content:Object.assign({},o,{selectedTweet:n,showSmallAvatars:!0})})},q=function(t){var e=t.originalEntry,n=t.contextTweetId,o=t.socialContext,i=t.promotedContent,a=t.conversationPosition;return r.d(Object.assign({},e,{conversationPosition:a}),{displayType:z.a.Focal,focal:{contextTweetId:n,socialContext:o,promotedContent:i}})},W=function(t){var e=t.entry,n=t.contextTweetId,o=t.conversationPosition,i=t.socialContext;return r.d(Object.assign({},e,{conversationPosition:o}),{displayType:"FocalTweetInlineTombstone",focal:{contextTweetId:n,socialContext:i}})},Y=function(t){var e=t.entry,n=t.conversationPosition;return Object.assign({},e,{conversationPosition:n})},$=function(t){return{entryId:"threadGap-"+t.entryId,type:"ui_threadGap",sortIndex:t.sortIndex,content:{parentThread:t},itemMetadata:t.itemMetadata}},tt=function(t,e,n,o){return{entryId:n,type:l.a.Tombstone,content:t,itemMetadata:e||{},conversationPosition:o,sortIndex:"-1"}},et=function(t,e){return Object.assign({},t,{conversationPosition:{isStart:e,isEnd:!1,showReplyContext:!1}})},nt=function(t,e){return Object.assign({},t,{conversationPosition:{isStart:e,isEnd:!1}})},ot=function(t,e,n,o,i){return r.g({entryId:t+"-tweet-"+e,id:e,sortIndex:e,itemMetadata:n,conversationPosition:{isStart:o,isEnd:i,showReplyContext:o}})},rt=function(t,e,n){return{entryId:t+"-tweetComposer",sortIndex:"-1",type:l.a.TweetComposer,content:e,withConversationLine:n,itemMetadata:{}}},it=function(t){if(t.conversationTweetComponent){var e=t.conversationTweetComponent;return e&&e.tweet}}},rkhm:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("k49u"),r=n("fs1G"),i=n("LVU8"),a=function(t){var e;return(e={})[o.a.GenericNotFound]={customAction:r.a},e[o.a.NotAuthorizedToViewUser]={customAction:function(){Object(i.d)("/"+t,{statusCode:401})}},e[o.a.StatusViewForbidden]={customAction:function(){Object(i.d)("/"+t)}},e.showToast=!0,e}}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/bundle.Conversation~bundle.TweetMediaDetail.c42d1864.js.map